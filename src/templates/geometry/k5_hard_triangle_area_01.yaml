metadata:
  id: k5_hard_triangle_area_01
  version: "1.0.0"
  author: Mathbot
  created: 2026-01-30
  grade: 5
  topic: geometry.triangles
  family: triangle_area
  difficulty: hard
  culture: en-US
  steps: 4
  tags: [triangle, area, perimeter, cost, multi-step]

variables:
  name:
    type: person
  
  area_type:
    type: string
    choices: ["yard", "garden", "field"]
  
  side_a:
    type: integer
    min: 15
    max: 20
  
  side_b:
    type: integer
    min: 18
    max: 24
  
  side_c:
    type: integer
    min: 22
    max: 28
  
  height:
    type: integer
    min: 12
    max: 16
  
  fence_price:
    type: integer
    min: 6
    max: 10
  
  material_price:
    type: integer
    min: 2
    max: 4
  
  Answer:
    type: decimal
    format: money

template: |
  {{name}} wants to fence a triangular {{area_type}} with sides {{side_a}} m, {{side_b}} m, and {{side_c}} m.
  Fencing costs ${{fence_price}} per meter.
  The {{area_type}} will also be covered with grass seed costing ${{material_price}} per square meter.
  If the height is {{height}} m, what is the total cost?

solution: |
  # Calculate perimeter
  perimeter = side_a + side_b + side_c
  
  # Calculate area (using the first side as base)
  area = (side_a * height) / 2
  
  # Calculate costs
  fence_cost = perimeter * fence_price
  material_cost = area * material_price
  total_cost = fence_cost + material_cost
  
  Answer = round(total_cost, 2)

tests:
  - seed: 12345
    expected:
      answer: "$616.00"
  
  - seed: 67890
    expected:
      answer: "$496.00"
